<!DOCTYPE html>
<html>
  <head>
    <title>Admin</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_include_tag "application", "data-turbo-track": "reload", cache: false %>
  </head>
  <body class="bg-gray-50 text-gray-900 antialiased h-screen overflow-hidden" data-controller="delete-confirmation">
    <div class="h-screen flex">
      <%= render "admin/shared/sidebar" %>
      <div class="flex-1 flex flex-col min-w-0">
        <%= render "admin/shared/topbar" %>
        <main class="flex-1 overflow-auto">
          <div class="p-6">
            <%= yield %>
          </div>
        </main>
      </div>
    </div>
    
    <!-- Toast Container -->
    <div id="toast-container" class="fixed top-4 right-4 z-50 space-y-2" style="pointer-events: none;">
      <!-- Flash Messages as Toasts -->
      <% if notice %>
        <%= render "shared/toast", type: "success", message: notice, duration: 5000 %>
      <% end %>
      <% if alert %>
        <%= render "shared/toast", type: "error", message: alert, duration: 5000 %>
      <% end %>
    </div>
    
    <!-- Delete Confirmation Modal -->
    <%= render "shared/delete_confirmation_modal" %>
  </body>
</html>
